@prefix :       <https://joinup.ec.europa.eu/collection/rpam/1.1.0/ontology#> .
@prefix owl:    <http://www.w3.org/2002/07/owl#> .
@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix ubl:    <http://docs.oasis-open.org/ubl#> .
@prefix xml:    <http://www.w3.org/XML/1998/namespace> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix ccev:   <https://joinup.ec.europa.eu/collection/semic/ccev/2.0.3/ontology#> .
@prefix ccts:   <http://www.unece.org/cefact#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos:   <http://www.w3.org/2004/02/skos/core#> .
@prefix foaf:   <http://xmlns.com/foaf/0.1/> .
@prefix dct:    <http://purl.org/dc/elements/1.1/> .
@prefix adms:   <http://www.w3.org/ns/adms#> .
@prefix dcat:   <http://www.w3.org/ns/dcat#> .
@prefix pwr:    <http://data.europa.eu/RPaM/ontology/rd/powers#> .
@prefix stat:   <http://data.europa.eu/RPaM/ontology/rd/status#> .
@prefix uc:     <http://data.europa.eu/RPaM/ontology/rd/units#> .
@prefix ict:    <https://joinup.ec.europa.eu/collection/rpam/1.0.0/thesauri/irctype#> .
@prefix ctx:    <https://joinup.ec.europa.eu/collection/rpam/1.0.0/thesauri/constrainttaxonomy#> .
@prefix at:     <https://joinup.ec.europa.eu/collection/rpam/1.0.0/thesauri/administrationleveltype#> .
@prefix cc:     <https://joinup.ec.europa.eu/collection/rpam/1.0.0/thesauri/countrycode#> .
@prefix org:    <http://www.w3.org/ns/org#> .


<https://joinup.ec.europa.eu/collection/rpam/1.1.0/ontology#> rdf:type owl:Ontology ;
                                        owl:versionIRI <https://joinup.ec.europa.eu/collection/rpam/1.1.0/ontology> ;
                                        dct:description "A Data Set with example (fake) Mandates conformat to the RPaM Ontology specification."@en ,
                                                        "BEWARE that this Ontology is an ongoing development"@en ;
                                        dct:title "Representation Powers and Mandates"@en ;
                                        dct:publisher "European Commission, ISA2 Programme"@en ;
                                        dct:creator "everis, Spain, S.L.U"@en ;
                                        dcat:distribution [
                                                skos:note "The GitHub Repository where this development is being maintained."@en ;
                                                dcat:accessURL <https://github.com/everis-rpam> ;
                                                skos:note "The URL GitHub Repository to download this file."@en ;
                                                dcat:downloadURL <https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/07-Testing/Mandates/Mandates-Dataset-01.ttl>
                                        ] .


######################################  MANDATE #1  ###############################################
### An individual (e.g. an instance) of a Mandate empowering where three powers are assigned. 
### Beware that the Mandatee does not contain any Service Provider Information Requirements (SP-IRs): 
### Mandates are agnostic of the Services which may use it. Which does not imply that the 
### eMandate Response provided by one eMandate Register may contain SP-IRs and related constraints.
###
### Notice the use of multiple identifiers and, in the case of UUIDs, how the ISO-15000-5 CCTS
### attributes are used.
###################################################################################################
:MANDATE-1 rdf:type :Mandate;
    :id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/07-Testing/Mandates/Mandates-Dataset-01.rt.ttl#MANDATE-1"; ccts:schemeID "URL"] ;
    # For details on the ISO-15000-5 CCTS (Core Component Type Scpecification, prefix ccts herein, see
    # https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/03-Syntax_Bindings/OWL-DL-TTL/ccts/ccts.ttl
    ccev:id [
                ccts:identifierValue "84706220-0d3f-40d5-bee2-2bae8197d21c" ;
                ccts:schemeID "UUID" ;
                ccts:schemeAgencyID "EU-COM-ISA2" ;         
                ccts:schemeVersionID "4" 
            ] ;
    skos:note "The Mandate lifeSpan informs about when the Mandate was created and when it was struck-off from the register."@en ,
              "If no endDateTime or durationMeansure are specificed it implies that the mandate is still alive."@en ;
    # This Mandate is still 'alive' in the Registry.
    :lifeSpan [ubl:startDateTime "2019-01-29T21:57:00"^^xsd:dateTime ] ;
    :empowerment [
            # The powers of the Mandator
            :power :POWER-2 ;
            # The one who has the power and empowers other Persons.
            :powerOf :MANDATOR-1 ;
            # No constraints are applied to the use of this Power by the mandater nor the mandatee
            :powerAssignment [:assignedTo :MANDATEE-1, :MANDATEE-2 ] 
            ] ;
    :empowerment [
            :power :POWER-3 ;
            :powerOf :MANDATOR-1 ;
            # No constraints are applied to the use of this Power by the mandater nor the mandatee
            :powerAssignment [:assignedTo :MANDATEE-1, :MANDATEE-2 ] 
            ] ;
    :empowerment [
            :power :POWER-7 ;
            :powerOf :MANDATOR-1 ;
            # No constraints are applied to the use of this Power by the mandater nor the mandatee
            :powerAssignment [:assignedTo :MANDATEE-1, :MANDATEE-2 ] 
            ]
    ] .


######################################  MANDATE #2  ###############################################
:MANDATE-2 rdf:type :Mandate ;
    :id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/07-Testing/Mandates/Mandates-Dataset-01.rt.ttl#MANDATE-2"; ccts:schemeID "URL"] ;
    # This Mandate is still 'alive' in the Registry, but will presumably be struck-off from the Register on the 31st. February 2019.
    :lifeSpan [ubl:startDateTime "2018-01-29T21:57:00"^^xsd:dateTime ; ubl:endDateTime "2019-02-31T21:57:00"^^xsd:dateTime ];
    :empowerment [
            :power :POWER-4 ;
            :powerOf :MANDATOR-2 ;
            # No constraints are applied to the use of this Power by the mandater nor the mandatee
            :powerAssignment [:assignedTo :MANDATEE-1, :MANDATEE-2] .

######################################  MANDATE #3  ###############################################
:MANDATE-3 rdf:type :Mandate ;
    :id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/07-Testing/Mandates/Mandates-Dataset-01.rt.ttl#MANDATE-3"; ccts:schemeID "URL"] ;
    # This Mandate was presumably struck-off from the Register ten months after the date it was created (2017-95-30).
    :lifeSpan [
                    ubl:startDateTime "2017-05-30T21:57:00"^^xsd:dateTime ; 
                    ubl:durationMeasure [
                        ccts:measureValue "10"^^xsd:positiveInteger ;
                        ccts:unitCode uc:MONTH
                    ]
              ];
:empowerment [
            # Power 5: The action of presenting a proposal, application, or other document for consideration or judgement.
            :power :POWER-5 ;
            :powerOf :MANDATOR-2 ;
            :powerAssignment [:assignedTo :MANDATEE-1, :MANDATEE-2; 
                              # Constraint-1: Administrative constraint about the power to act only in certain Public Administration Level -> :LOCAL
                              # Paula and Emma (Mandatees 1 and 2) can use this power only for local administrations.
                              :constraint :CONSTRAINT-1] .

######################################  MANDATE #4  ###############################################
:MANDATE-3 rdf:type :Mandate ;
    :id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/07-Testing/Mandates/Mandates-Dataset-01.rt.ttl#MANDATE-4"; ccts:schemeID "URL"] ;
    # This Mandate was presumably struck-off from the Register ten months after the date it was created (2017-95-30).
    :lifeSpan [
                    ubl:startDateTime "2017-05-30T21:57:00"^^xsd:dateTime ; 
                    ubl:durationMeasure [
                        ccts:measureValue "10"^^xsd:positiveInteger ;
                        ccts:unitCode uc:MONTH
                    ]
              ];
    :empowerment [
            :power :POWER-6 ;
            :powerOf :MANDATOR-2 ;
            # No constraints are applied to the use of this Power by the mandater nor the mandatee
            :powerAssignment [:assignedTo :MANDATEE-1, :MANDATEE-2] ;

    :empowerment [
            :power :POWER-8 ;
            :powerOf :MANDATOR-2 ;
            # Francisco (mandator 2) can sign up contracts up to 5,000,000 EUR, but limits  
            # the amount for the mandatees he empowers.
            # Francisco (the mandator) has this power through another mandate where he was the mandatee.
            :delegationLevel 1 ;
            :constraint :CONSTRAINT-2 ; 
            # Vicen√ß (mandatee 3) can only sign contract up to 100,000.00 EUR
            :powerAssignment [:assignedTo :MANDATEE-3; :constraint :CONSTRAINT-3] .        

######################################  MANDATE #5  ###############################################
### Francisco (MANDATOR-2) empowers Rosa (MANDATEE-4) with a complex structure
### made of groups and subgroups of constraints to express that:
### 1. Rosa can act in a set of one or more EU MS countries,
### 2. In each of these countries, Rosa can sign contracts below an economic threshold,
### 3. For each of these thresholds (and country(ies)), she can use the power only within a concrete 
### period of time.
###
### THIS PRACTICE IS NOT RECOMMENDED as it becomes complicated to interpret automatically the meaning of the 
### data. An alternative to this is to draft as many mandates with simple (*atomic*) constraints.
### 
### This mandate should throw an exception at validation time, as Francisco (the mandator) 
### cannot sign contracts above 5,000,000.00 EUR. 
######################################################################################################
:MANDATE-5 rdf:type :Mandate ;
    :id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/07-Testing/Mandates/Mandates-Dataset-01.rt.ttl#MANDATE-5"; ccts:schemeID "URL"] ;
    :lifeSpan [ubl:startDateTime "2017-05-30T21:57:00"^^xsd:dateTime ; ]];
    :empowerment [
            :power :POWER-8 ;
            :powerOf :MANDATOR-2 ;
            # Francisco (mandator 2) can sign up contracts up to 5,000,000 EUR, but limits  
            # the amount for the mandatees he empowers.
            # Francisco (the mandator) has this power through another mandate where he was the mandatee.
            :delegationLevel 1 ;
            :powerAssignment [:assignedTo :MANDATEE-1, :MANDATEE-2] ;

    :empowerment [
            :power :POWER-8 ;
            :powerOf :MANDATOR-2 ;
            # Francisco (mandator 2) can sign up contracts up to 5,000,000 EUR, but limits  
            # the amount for the mandatees he empowers.
            :constraint :CONSTRAINT-2 ; 
            # Rosa (mandatee 4) is assigned a constraint to sign contracts up to 7,000,000.00 EUR.
            # HOWEVER FRANCISCO CAN SIGN CONTRACTS ONLY UP TO 5,000,000.00 EUR. THIS SHOULD 
            # THROW AN EXCEPTION.
            :powerAssignment [:assignedTo :MANDATEE-3; :constraint :CONSTRAINT-4] .        

######################################  POWER #1  ###############################################
### An individual (e.g. an instance) of a Power. The Power is the core link between
### The Mandator and the Mandatee, as an individual of Power is assigned by the Mandator to one
### or more Mandatees.
### Beware that the Powers may have different constraints for the Mandator and for the Mandatee(s).
### This constraints are not directly linked to the Power but to the different Agents that intervene, 
### namely the Mandator and the Mandatee: *the Power is agnostic of the constraints that may be 
### applied to it*.
###
### In this example, this is the Power of Mandator 1, a Natural Person Named "Serge Novack" 
### (MANDATOR-1), who empowers two other Natural Persons, "Paula Keen" (named individual
### (MANDATEE-1) and "Emma Geminada" (named individual MANDATEE-2).
### Notice that the Mandator is the "owner" of the Power, meaning that the Power was not assigned 
### to him by another Person, which is inferred by the value of the "delegationLevel".
### Therefore there are no constraints applied to him. However, this Mandator will apply an 
### Administrative constraint to Paula Keen: she will only be able to act on Serge's behalf in 
### front of any EU Local Public Administation, but not in National nor Regional or 
### EU Administrations. To see this look into the individual (instance) MANDATEE-1.
###
### Notice that the power is accessible from the Spanish eMandate Registry REA 
### (Registro Electronico de Apoderamientos). The URL uses herein is fake, just for illustration
### and simplification. The official URL for this Register is 
### https://sede.administracion.gob.es/PAG_Sede/ServiciosElectronicos/RegistroElectronicoDeApoderamientos.html
###################################################################################################
:POWER-1 rdf:type :Power ;
    :id [ccts:identifierValue "https://rea.es/poderes#p-1"; ccts:schemeID "RPaM"; ccts:schemeVersionID "1.1.0"] ;
    :id [
                ccts:identifierValue "P-1"            ;
                ccts:schemeID "POWER"             ;
                # The scheme ([A,Z]-n is maintained by DIGIT), in this example the eMandate Registry has decided
                # to use DIGI's scheme to doubly identify the power.
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    # See the EU Powers Taxonomy in the RPaM GitHub repository. See examples of this Power in
    # <https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/03-Syntax_Bindings/OWL-DL-TTL/rpam/EU_Powers_Taxonomy.ttl>
    skos:note "Powers related to study and education activities."@en ;
    :powerType pwr:WORKING ;
    # The Power is active. See code list in:
    # <https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/03-Syntax_Bindings/OWL-DL-TTL/rpam/EU_Power_Status_Taxonomy.ttl>
    :statusType stat:CONFIRMED .
    
######################################  POWER #2  ###############################################
### In this example, this is the Power of Mandator 2, a Natural Person Named 
### "Francisco Lemur Cifrado", who was assigned this Power in another Mandatee
### (observe that the level of delegation is 2). 
### This Mandator is going to assign powers related to business and financial operations to
### the Mandatees "Vicen√ß Pons i Torra" and "Rosa De La Fuente" (Mandatees 3 and 4).
###################################################################################################
:POWER-2 rdf:type :Power ;
    :id [ccts:identifierValue "https://rea.es/poderes#p-2"; ccts:schemeID "RPaM"; ccts:schemeVersionID "1.1.0"] ;
    :id [
                ccts:identifierValue "P-2"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "Powers related to certain activities at the time of the establishment of a business."@en ;
    :powerType pwr:STARTING_BUSINESS ;
    :statusType stat:CONFIRMED .

######################################  POWER #3  ###############################################
:POWER-3 rdf:type :Power ;
    :id [ccts:identifierValue "https://rea.es/poderes#p-3"; ccts:schemeID "RPaM"; ccts:schemeVersionID "1.1.0"] ;
    :id [
                ccts:identifierValue "P-3"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "Powers related to certain activities at the time of cunducting business."@en ;
    :powerType pwr:DOING_BUSINESS ;
    :statusType stat:CONFIRMED .

######################################  POWER #4  ###############################################
:POWER-4 rdf:type :Power ;
    :id [ccts:identifierValue "https://rea.es/poderes#p-4"; ccts:schemeID "RPaM"; ccts:schemeVersionID "1.1.0"] ;
    :id [
                ccts:identifierValue "P-4"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "Powers related to moving activities, either in the same region or in a different region."@en ;
    :powerType pwr:MOVING ;
    :statusType stat:CONFIRMED .

######################################  POWER #5  ###############################################
:POWER-5 rdf:type :Power ;
    :id [ccts:identifierValue "https://rea.es/poderes#p-5"; ccts:schemeID "RPaM"; ccts:schemeVersionID "1.1.0"] ;
    :id [
                ccts:identifierValue "P-5"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "The action of presenting a proposal, application, or other document for consideration or judgement."@en ;
    :powerType pwr:SUBMIT ;
    :statusType stat:CONFIRMED .

######################################  POWER #6  ###############################################
:POWER-6 rdf:type :Power ;
    :id [ccts:identifierValue "https://rea.es/poderes#p-6"; ccts:schemeID "RPaM"; ccts:schemeVersionID "1.1.0"] ;
    :id [
                ccts:identifierValue "P-6"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "Powers related to activities that refer to birth."@en ;
    :powerType pwr:BIRTH ;
    :statusType stat:CONFIRMED .

######################################  POWER #7  ###############################################
:POWER-7 rdf:type :Power ;
    :id [ccts:identifierValue "https://rea.es/poderes#p-7"; ccts:schemeID "RPaM"; ccts:schemeVersionID "1.1.0"] ;
    :id [
                ccts:identifierValue "P-7"          ;
                ccts:schemeID "POWER"               ;
                ccts:schemeAgencyID "EU-COM-DIGIT"  ;
                ccts:schemeVersionID "1.1.0"
    ] ;
    skos:note "The act to get something by paying money for it."@en ;
    :powerType pwr:STARTING_BUSINESS ;
    :statusType stat:CONFIRMED .
    
######################################  POWER #8  ###############################################
:POWER-8 rdf:type :Power ;
    :id [ccts:identifierValue "https://rea.es/poderes#p-8"; ccts:schemeID "RPaM"; ccts:schemeVersionID "1.1.0"] ;
    skos:note "Powers related to certain activities at the time of cunducting business."@en ;
    :powerType pwr:DOING_BUSINESS ;
    :statusType stat:CONFIRMED .

######################################  MANDATOR #1  ###############################################
### Mandator 1, Serge Novack (a Belgian citizen resident in Spain), is identified with an ID 
### issued by the Spanish Home Affairs, which is responsible for the identification of national and
### alien citizens. In this case, Serge is a foreigner (NIE, stands for Identification Number for 
### Foreigners), and the Ministry is one of the ID scheme Agencies that are included in the 
### RPaM list of authorities, also used in eIDAS.
####################################################################################################
:MANDATOR-1 rdf:type :Mandator, foaf:Person ;
    :id [
                ccts:identifierValue "00775083X"   ;
                ccts:schemeID "ES-NIE"               ;
                ccts:schemeAgencyID "ES-INTERIOR"
    ] ;
    :givenName "Serge" ; :familyName "Novack" .

######################################  MANDATOR #2  ###############################################
### Mandator 2, Francisco, is a Spanish citizen.
####################################################################################################
:MANDATOR-2 rdf:type :Mandator, foaf:Person ;
    :id [
                ccts:identifierValue "20775083D"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR"
    ] ;
    :givenName "Francisco" ; :familyName "Lemur Cifrado" .

######################################  MANDATOR #3  ###############################################
### Mandator 3 is a Legal Person. The agency that issued its Identifier is the Spanish Tax Agency, 
### which is also in the list of the RPaM authorities for identification (RPaM Identifiers Policy).
####################################################################################################
:MANDATOR-3 rdf:type :Mandator, org:Organization ;
    :id [
            ccts:identifierValue "B82387770" ; 
            ccts:schemeID "ES-NIF" ; 
            ccts:schemeAgencyID "ES-AEAT"] ;
    :name "everis, Spain, SLU" .

######################################  MANDATEE #1  ###############################################
:MANDATEE-1 rdf:type :Mandatee, foaf:Person ;
    :id [
                ccts:identifierValue "16124678X"   ;
                ccts:schemeID "ES-NIE"               ;
                ccts:schemeAgencyID "ES-INTERIOR"
    ] ;
    :givenName "Paula" ; 
    :familyName "Keen" .

######################################  MANDATEE #2  ###############################################
:MANDATEE-2 rdf:type :Mandatee, foaf:Person ;
    :id [
                ccts:identifierValue "46620667-P"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Emma" ; :familyName "Geminada" .

######################################  MANDATEE #3  ###############################################
:MANDATEE-3 rdf:type :Mandatee, foaf:Person ;
    :id [
                ccts:identifierValue "545519556-Q"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Vicen√ß" ; :familyName "Pons i Torra" .

######################################  MANDATEE #4  ###############################################
:MANDATEE-4 rdf:type :Mandatee, foaf:Person ;
    :id [
                ccts:identifierValue "72345671-S"   ;
                ccts:schemeID "ES-NIF"               ;
                ccts:schemeAgencyID "ES-INTERIOR-MINISTRY"
    ] ;
    :givenName "Rosa" ; :familyName "De La Fuente-Brolladora" .

######################################  CONSTRAINT #1  ###############################################
:CONSTRAINT-1 rdf:type ccev:Criterion ;
    ccev:id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/06-MorMee_Constraints/mormeeconstraints.ttl#AdministrativeLevelConstraint"^^xsd:anyURI] ;
    ccev:id [
                ccts:identifierValue "6cc9308f-ff00-4e98-9de2-cc76f1b5f8e2" ;
                ccts:schemeID "UUID"               ;
                ccts:schemeAgencyID "EU-COM-ISA2" ;         
                ccts:schemeVersionID "4" 
            ] ;
    ccev:name "Administrative Level"@en ;
    ccev:description "Administrative constraint about the power to act only in certain Public Administration Level"@en ;
    # EU Power Taxonomy narrowest category for which this constraint may apply  (the approach is still being analysed. This link is necessary for validation purposes.)
    # ccev:type ctx:ADMINISTRATIVE_LEVEL
    ccev:group [
                ccev:id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/06-MorMee_Constraints/mormeeconstraints.ttl#AdministrativeLevelGroup"^^xsd:anyURI ] ;
                ccev:property [
                               ccev:id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/06-MorMee_Constraints/mormeeconstraints.ttl#AdministrativeLevelProperty"^^xsd:anyURI ] ;
                               ccev:name "Public Administration level"@en ;
                               ccev:description "The level of the Public Administration for which the Mandatee has the power of acting on behalf of the Mandator."@en ;
                               ccev:constraint [ccev:datumCode at:LOCAL]
                               ]
               ] .

######################################  CONSTRAINT #2  ###############################################
### In this example, Francisco Lemur Cifrado (see individual MANDATOR-2) is a Mandator with 
### delegated powers. The person that assigned those powers to Francisco established a financial 
### constraint on Francisco stating that he can sign contracts (e.g. with a public administraion) 
### up to 5,000,000.00 Euros. 
### 
### This example will be used later to show how mandator's and mandatee's constraint may enter in
### conflict and to point out the need for *business rules* to enable systems to always validate 
### the incoming information.
### 
### IMPLEMENTATION NOTE: The rules for data validation and integration should be decoupled as much
### as possible from the definition of the ontology and from the dataset content. One proposal is 
### to use SHACL to validate data graphs. See https://www.w3.org/TR/shacl/.
###################################################################################################
:CONSTRAINT-2 rdf:type ccev:Criterion ;
    ccev:id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/06-MorMee_Constraints/mormeeconstraints.ttl#MaxContractValueConstraint"^^xsd:anyURI] ;
    ccev:id [
                ccts:identifierValue "2b73f156-c56d-4168-91ff-2a957035e187" ;
                ccts:schemeID "UUID"               ;
                ccts:schemeAgencyID "EU-COM-ISA2" ;         
                ccts:schemeVersionID "4" 
            ] ;
    # The name of the criterion
    ccev:name "Max contract value"@en ;
    # The description of the criterion
    ccev:description "Maximum contract amount value."@en ;
    # EU Power Taxonomy narrowest category for which this constraint may apply  (the approach is still being analysed. This link is necessary for validation purposes.)
    # ccev:type ctx:MAX_CONTRACT_THRESHOLD ;
    ccev:group [ 
                 ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/06-MorMee_Constraints/mormeeconstraints.ttl#MaxContractValueGroup"^^xsd:anyURI ;
                 ccev:id [
                        ccts:identifierValue "d5e43129-9418-463a-a7e8-3d8c353f61f9" ;
                        ccts:schemeID "UUID"              ;
                        ccts:schemeAgencyID "EU-COM-ISA2" ;         
                        ccts:schemeVersionID "4" 
                    ] ;
                    ccev:property [
                                 ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/06-MorMee_Constraints/mormeeconstraints.ttl#MaxContractValueProperty"^^xsd:anyURI ;
                                 ccev:name "Maximum contract value threshold"@en ;
                                 ccev:description "The maximum amount for contracts signed by a Mandatee representing a Natural or Legal Person"@en ;
                                 ccev:constraint [
                                                    ccev:datumAmount "5000000.00"^^xsd:decimal ;
                                                    ccts:currencyID "EUR"
                                                ]
                                ]
               ] .

######################################  CONSTRAINT #3  ###############################################
### Francisco (MANDATOR-2), can sign contracts with the public administration for 
### values up to 5,000,000.00 Euros (see CONSTRAINT #2). As a Mandator with power to delegate onto
### other persons, he empowers Vicen√ß Pons i Torra (MANDATEE-3) with one of his powers, but sets
### a more restricted Financial constraint onto him.
###
### BEWARE that the Identifier of the criterion is the same as for the above one, as it identifies
### a reusable data shape where all the elements, except for the constraint value are different 
### (100,000.00 EUR). 
###################################################################################################
:CONSTRAINT-3 rdf:type ccev:Criterion ;
    ccev:id [ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/06-MorMee_Constraints/mormeeconstraints.ttl#MaxContractValueConstraint"^^xsd:anyURI] ;
    ccev:id [
                ccts:identifierValue "2b73f156-c56d-4168-91ff-2a957035e187" ;
                ccts:schemeID "UUID"               ;
                ccts:schemeAgencyID "EU-COM-ISA2" ;         
                ccts:schemeVersionID "4" 
            ] ;
    # EU Power Taxonomy narrowest category for which this constraint may apply  (the approach is still being analysed. This link is necessary for validation purposes.)
    # ccev:type ctx:MAX_CONTRACT_THRESHOLD ;
    ccev:group [
                 ccev:id [
                        ccts:identifierValue "d5e43129-9418-463a-a7e8-3d8c353f61f9" ;
                        ccts:schemeID "UUID"              ;
                        ccts:schemeAgencyID "EU-COM-ISA2" ;         
                        ccts:schemeVersionID "4" 
                    ] ;
                    ccev:property [
                                 ccts:identifierValue "https://github.com/everis-rpam/RPaM-Ontology/blob/v1.1.0/06-MorMee_Constraints/mormeeconstraints.ttl#MaxContractValueProperty"^^xsd:anyURI ;
                                 ccev:name "Maximum contract value threshold"@en ;
                                 ccev:description "The maximum amount for contracts signed by a Mandatee representing a Natural or Legal Person"@en ;
                                 ccev:constraint [ccev:datumAmount [ ccts:amountValue "100000.00"^^xsd:decimal ; ccts:currencyID "EUR" ]]
                                ]
               ] .

######################################  CONSTRAINT #4  ##############################################################
### Groups of constraints can be combined (structured) to produce complex data structure. 
### In this constraint, Francisco (MANDATOR-2) empowers Rosa (MANDATEE-4) with a complex structure
### made of groups and subgroups of constraints to express that:
### 1. Rosa can act in a set of one or more EU MS countries,
### 2. In each of these countries, Rosa can sign contracts below an economic threshold,
### 3. For each of these thresholds (and country(ies)), she can use the power only within a concrete period of time.
###
### THIS PRACTICE IS NOT RECOMMENDED as it becomes complicated to interpret automatically the meaning of the 
### data. An alternative to this is to draft as many mandates with simple (*atomic*) constraints.
### 
### Notice that the URL identifier states that the Agency responsible for this ID is the Spanish eMandate Registry 
### (ES-REA). This means that the constraint, in principle, is not a 'standard' one (i.e. commonly shared). 
### Nonetheless it would be interesting that, to ensure interoperability, the constraint was shared and reused by
### other EU MS eMandate Registries and Service Providers. One existing tool aimed *_very precisely_* at this purpose
### is *eCertis* (https://ec.europa.eu/tools/ecertis/).
#####################################################################################################################
:CONSTRAINT-4 rdf:type ccev:Criterion ;
    ccev:id [
                ccts:identifierValue "https://rea.es/mc/#MaxContractValueConstraint"^^xsd:anyURI ;
                # The next attribute could be considered redundant, as the identifier above is in the rea.es domain.
                ccts:schemeAgencyID "ES-REA" ;
                ] ;
    # Attributes of the Identifier removed for brevity and clarity (in real situations these should be kept).
    ccev:id [ccts:identifierValue "aa9d0e05-f45a-4a45-8be3-d02fc5369bd6" ] ;
    # The description of the criterion
    ccev:description "Maximum contract amount value per EU MS, for specific periods and MS"@en ;
    ccev:group [
                ccev:id [ccts:identifierValue "de99c7ef-8f1e-464f-a98c-89201ed0dbf3" ] ;
                ccev:property [
                                 ccev:name "EU MS acting scope"@en ;
                                 ccev:description "The country code of the EU Member State where this person can act"@en ;
                                 # The Mandatee can only act in Spain, Belgium and Italy. Service Providers in other EU 
                                 # Member States should reject the access to the Mandatee.
                                 # This is a "positive constraint". The "negative" one would state something 
                                 # like: "The country code of the EU MS where this person cannot act"
                                 ccev:constraint [ccev:datumCode cc:ES] , [ccev:datumCode cc:BE], [ccev:datumCode cc:IT] 
                                ] ;
                ccev:group [
                            ccev:id [ccts:identifierValue "e0c7de07-b228-4c94-9171-67f8919adc3a" ] ;
                            ccev:property [
                                             ccev:name "Maximum contract value threshold"@en ;
                                             ccev:description "The maximum amount for contracts signed by a Mandatee representing a Natural or Legal Person"@en ;
                                             # In ES, BE and IT, the mandatee can sign contracts up to 1,000,000.00 EUR.
                                             ccev:constraint [ccev:datumAmount [ ccts:amountValue "1000000.00"^^xsd:decimal ; ccts:currencyID "EUR" ]]
                                        ] ;
                            ccev:group [
                                        ccev:id [ccts:identifierValue "596e109b-9fdd-4704-8051-367adf130f87" ] ;
                                        ccev:property [
                                                        ccev:name "The lapse of time during which a power can be used"@en ;
                                                        ccev:description "The lapse of time during which a power can be used"@en ;
                                                        # In ES, BE and IT, the mandatee can sign contracts up to 1,000,000.00 EUR, but only until 2020-12-12.
                                                        ccev:constraint [ccev:datumPeriod [ ubl:endDate "2020-12-12"^^xsd:date ]]
                                                       ]           
                                        ]
               ] 
        ] ;

     ccev:group [
                ccev:id [ccts:identifierValue "de99c7ef-8f1e-464f-a98c-89201ed0dbf3" ] ;
                ccev:property [
                                 ccev:name "EU MS acting scope"@en ;
                                 ccev:description "The country code of the EU Member State where this person can act"@en ;
                                 # The Mandatee can also act in the EFTA countries. Service Providers that are not 
                                 # ES, BE, IT or EFTA countries should reject the access to the Mandatee.                                 
                                 ccev:constraint [ccev:datumCode cc:EFTA-MS] 
                                ] ;
                ccev:group [
                            ccev:id [ccts:identifierValue "e0c7de07-b228-4c94-9171-67f8919adc3a" ] ;
                            ccev:property [
                                             ccev:name "Maximum contract value threshold"@en ;
                                             ccev:description "The maximum amount for contracts signed by a Mandatee representing a Natural or Legal Person"@en ;
                                             # In the EFTA countrie the mandatee can sign contracts up to 7,000,000.00 EUR. with no time limitation.
                                             # BUSINESS RULE: BEWARE THAT THIS CONSTRAINT SHOULD THROW AN EXCEPTION AT eMANDATE VALIDATION TIME, AS
                                             # THE MANDATOR CANNOT SIGN CONTRACTS ABOVE 5,000,000.00 EUR. 
                                             ccev:constraint [ccev:datumAmount [ ccts:amountValue "7000000.00"^^xsd:decimal ; ccts:currencyID "EUR" ]]
                                        ] ;                            
                        ] ;
            ] .        

######################################  CONSTRAINT #5  ###############################################
### Rosa, representative mandatee of Francisco, can also create businesses on behalf of Francisco's 
### mandator. But Francisco limits Rosa to the creation of up to `10 business` for the next `3 years`.
### NOTICE that in this case the names and descriptions of the criterion and the properties have 
### been omitted: if every criterion is defined in a common repository, e.g. the cross-domain 
### EU e-Certis repository of criteria, every metaa-data about the criteria therein kept can be 
### easily retrieved (see https://ec.europa.eu/tools/ecertis).
###
### RECOMMENDATION: additionally to UUIDs, consider using URLs too (even better PURIs), along with a 
### term "with loads of semantics", for the dentification of both the criteria and the properties 
### (as in the example below). This enables the common sharing and reuse based on an 
### Open Linked Data basis.
### 
### NOTICE that The example below is 'minimalistic', i.e. what you would see in a real production 
### environment. For the exchange of information between systems, no titles, names, descriptions 
### and non-layout or functional-related requirements are necessary (provided that the business 
### information requirements and rules are preserved, of course): the less bandwith consumed the
### better. If necessary, the complete metadata describing the constraint could be obtained from 
### an RPaM official Open Linked Data repository (e.g. eCertis). For an example of how to do this
### see this simple SPARQL Query example ("TODO").
###
### NOTICE also that the constraint is shared with all from the eCertis repository: 
### (https://ec.europa.eu/tools/ecertis/).
###################################################################################################
:CONSTRAINT-3 rdf:type ccev:Criterion ;
    ccev:id [ccts:identifierValue "http://ec.europa.eu/tools/ecertis/pam#MaxQuantityBusinessCreationAndPeriodConstraint"^^xsd:anyURI] ;
    # This second uuid is in fact unnecessary, too, as you could get it from the eCertis repository.
    ccev:id [ccts:identifierValue "f34be3a0-db90-42c4-b401-1ed4f757889a"^^xsd:normalizedString] ;
    ccev:group [ccev:id [ccts:identifierValue "http://ec.europa.eu/tools/ecertis/pam#MaxQuantityBusinessCreationGroup"^^xsd:anyURI ] ;
                ccev:property [ ccev:id [ccts:identifierValue "http://ec.europa.eu/tools/ecertis/pam/constraints#MaxQuantityBusinessCreationProperty"^^xsd:anyURI ] ;
                                ccev:constraint [ccev:datumQuantity [ ccts:quantityValue 10 ; ccts:unitCode :BUSINESS ]]]
               ] ;
    ccev:group [ccev:id [ccts:identifierValue "http://ec.europa.eu/tools/ecertis/pam#PowerUseValidityPeriodGroup>"^^xsd:anyURI ] ;
                ccev:property [ ccev:id [ccts:identifierValue "http://ec.europa.eu/tools/ecertis/pam/constraints#MaxQuantityBusinessCreationProperty"^^xsd:anyURI ] ;
                                ccev:constraint [ccev:datumPeriod [ ubl:startDate "2019-01-01"^^xsd:date ; 
                                                                    ubl:durationMeasure [ccts:measureValue 3; ccts:unitCode :YEAR ]]]]
               ] 
     .
